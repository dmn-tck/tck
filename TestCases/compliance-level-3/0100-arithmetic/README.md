# Multiplication / Division / Addition / Subtraction

This folder contains tests generated by `generateTests.js`.  There is a lot of boilerplate in the arithmetic tests and a lot of combinations of types to test.

FEEL arithmetic includes types other than numbers such as dates, datetimes, durations and so on.  Additionally, the operations are not always commutative so an operation like `<date> - <duration>` is permitted, but its inverse `<duration> - <date>` it not.  The former gives a result, the latter is an error.

So testing DMN arithmetic is about testing the combinations that are valid as well as testing that the invalid combinations produce an error.  These test for errors are actually the greater portion of the tests.  Some invalid combinations do make sense.  For example, `<range<number>> * <number>` could, in theory, multiply the range end points to produce a new range - but this is not permitted so it needs an error test.

To that end, the `generateTests.js` script creates tests and decisions for all the tests specified, but also generates `null` assertion tests for lhs / rhs combinations of types that do not have explicit tests. In this way, positive assertions can be specified and the null assertions are created automatically.

Additionally, for the combinations that are commutative, tests are generated with flipped operands to assert the same result.

The script contains 5 name/value objects - one for multiplication, division, addition, subtraction, and exponentiation.   The structure of each object is 'left hand type' -> 'right hand types' -> tests.  Where the test are an array of values with the format: [ lhs value, rhs value, expected result, result XML schema type, <optional> description ]

To regenerate, first ensure you have nodejs installed.  Then make this (`0100-arithmetic`) folder your current working folder and:

```text
node generateTests.js
```

it recreates the `0100-arithmetic.dmn` and `0100-arithmetic-test-01.xml` files.

